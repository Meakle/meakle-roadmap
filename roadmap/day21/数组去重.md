# 数组去重

如何实现数组去重？
假设有数组 array = [1,5,2,3,4,2,3,1,3,4]
你要写一个函数 unique，使得
unique(array) 的值为 [1,5,2,3,4]
也就是把重复的值都去掉，只保留不重复的值。

要求写出两个答案：

1. 一个答案不使用 Set 实现（6分）
2. 另一个答案使用 Set （4分）
3. （附加分）使用了 Map / WeakMap 以支持对象去重的，额外加 5 分。
4. 说出每个方案缺点的，再额外每个方案加 2 分。



## 使用set实现

```js
let array = [1,5,2,3,4,2,3,1,3,4];

function distinct(array) {
    // set返回的值是一个伪数组
    return Array.from(new Set(array));
}

let result = distinct(array);

console.log(result);
```

缺点：不能够使对象去重



## 使用for循环去重

```js
let array = [1,5,2,3,4,2,3,1,3,4];

function distinct(array) {

    let result = array;

    for(let i = 0; i < result.length; i++){
        for(let j = i + 1; j < result.length; j++){
            if(result[i] === result[j]){
                result.splice(j, 1);
                // 去掉了当前的j, 原本的j+1就是j了, 因此要j--
                j--;
            }
        }
    }

    return result;
}

let result = distinct(array);
console.log(result);
```

缺点：代码量多，如果数组的长度很大，效率就比较低。无法区分`NaN`与对象



## 对象去重

我们需要指定对象中的某一个属性来进行去重。

```js
const responseList = [
    { id: 1, a: 1 },
    { id: 2, a: 2 },
    { id: 3, a: 3 },
    { id: 1, a: 4 },
];

let distinct = function (responseList){
    
    let result = responseList.reduce((acc, cur) => {

        const ids = acc.map((item) => item.id);
        return ids.includes(cur.id) ? acc : [...acc, cur];

    }, []);

    return result;
}

let result = distinct(responseList);
console.log(result);
```

